(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1447:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB3klEQVRYR2NkgIL///8zMjAwyEExLwMDAzNMjkr0XwYGhs8MDAyPQJiRkfE/yFyQpQz////nYGBgMGJgYBCmkmWEjHnLwMBwjpGR8Qcj1OeWdLQc5jiQI46DHCDPwMCgR8jJNJK/BHKALQMDgwCNLCBk7AeQA7xokOAIWQyT/wtygC+xqkHqsm9mm+5/u9+cFD0gtXaCdqdmaM44ha6PZAfYnLYJP/r+aDSpDrAStFpx1PToslEHUBwC/Y/6lQ69P6SMLQqOvD/i8ubXG01sclSLAlxx73XBy2f7q+1puORp6gBCloMcRTMHeJ7z9NnxZgeKz5kYmX6Ks4nfeP7zuT4sRGjiAGw+B1leqFDYcuLDCQ3k7Ep1B+CzvEe15yJ6eUFVB+AKdpDPQZaDgp1mDiDGcpo5gFjLaeIAUiynugNwWV6kUNTcrdp9CVvhg15iWvNb3ytRKLlLclFMqs9JrSXxVse0thzcKsbVIKGH5TgdQC/LsTqAnARHarwjq0dplH5j+MakeECx9dWvV9owRaCyHV9qp8RyBgYGcKMUpVl+5/sdDutT1g2vfr7SorHlILeDm+UYHROQI+xO2VVGS0WvxZXPKfQ5TDu4YwLqHw5c1wzklAHtnMLCYqC65wDAuI4uVOZ/jgAAAABJRU5ErkJggg=="},1448:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABuUlEQVRYR2NkgIL///8zMjAwyEExLwMDAzNMjkr0XwYGhs8MDAyPQJiRkfE/yFyQpQz////nYGBgMGJgYBCmkmWEjHnLwMBwjpGR8Qcj1OeWdLQc5jiQI46DHCDPwMCgh+7kxxGp2SziYg8lJ7ZuIeQdCuQvgRxgy8DAIIBsyOOIlJxf9x65gcS4LE1n0dARH0AO8EJOcE+iM9J+3r7ng+wgGjriL8gBvsiWvZ00R+/j8jW1///+Y6eHIzAcALKUno7A6gB6OgKnA+jlCLwOoIcjCDqAXEf8OHZS5OOGnYawhMwqKf5GqDD9PHqZQZQDyHHEm55pxh9XbaiHO0Bc9LTc5qXNZDuAVEfQxAGkOIJmDiDWETR1ADGOoLkDCDmCVVb6OdUTIbZqF1exzSoueur3y9dmVM0FuOp9XI5AVs9KjWyIr+FByBFUcwB6CYfsqF937ur9evLcHptDqeaAN91TTT6u3lhHajNs1AFUC4FPa7fIf1y9AaUZR0x0sElKPBDvb8FoYWM0SokxjIpqwI1SjGY5FS0gZBS4WY61Y0JIJ5XkwR0TUP9w4LpmIJ8MaOcUFpQD1T0HANByoi4Pn6HNAAAAAElFTkSuQmCC"},1525:function(e,t,c){var content=c(1674);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,c(29).default)("a2a32d14",content,!0,{sourceMap:!1})},1526:function(e,t,c){var content=c(1676);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,c(29).default)("85f0ccd6",content,!0,{sourceMap:!1})},1673:function(e,t,c){"use strict";c(1525)},1674:function(e,t,c){var l=c(28),n=c(81),m=c(1447),o=c(1448),_=l(!1),d=n(m),r=n(o);_.push([e.i,".pagination[data-v-de13ac60]{width:100%;display:flex;justify-content:flex-end;padding:20px 0}@media screen and (min-width:750px){.my_claim_wrap[data-v-de13ac60]{width:100%}.H5[data-v-de13ac60]{display:none}.my_claim[data-v-de13ac60]{position:relative;min-height:600px;display:flex;align-items:center;flex-direction:column}.my_claim .claim_title[data-v-de13ac60]{width:100%}.my_claim .claim_text[data-v-de13ac60]{width:100%;display:flex}.my_claim .claim_text span[data-v-de13ac60]{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px;margin-top:16px}body.light .my_claim .claim_text span[data-v-de13ac60]{color:#000}body.dark .my_claim .claim_text span[data-v-de13ac60]{color:#626262}.my_claim .claim_text span[data-v-de13ac60]:first-of-type,.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(2),.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(3){flex:2}.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(4){flex:1}.my_claim .claim_item[data-v-de13ac60]{width:100%;height:90px;margin-top:10px;display:flex;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;align-items:center;padding:0 20px}body.light .my_claim .claim_item[data-v-de13ac60]{background:#fff}body.dark .my_claim .claim_item[data-v-de13ac60]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_web[data-v-de13ac60]{flex:2}.my_claim .claim_item .claim_item_insure_web>span[data-v-de13ac60]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_web>span i[data-v-de13ac60]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_web>span .call_icon[data-v-de13ac60]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_web>span .put_icon[data-v-de13ac60]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_web>.call_text[data-v-de13ac60]{color:#28a745}.my_claim .claim_item .claim_item_insure_web>.put_text[data-v-de13ac60]{color:#dc3545}.my_claim .claim_item .claim_item_call_web[data-v-de13ac60],.my_claim .claim_item .claim_item_put_web[data-v-de13ac60]{flex:2}.my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],.my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:14px}body.light .my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],body.light .my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{color:#17173a}body.dark .my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],body.dark .my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{color:#e1e1e1}.my_claim .claim_item .claim_item_action_web[data-v-de13ac60]{flex:1;display:flex;justify-content:flex-end}.my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{padding:0 20px;height:32px;border-radius:3px}body.light .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]:hover{background:#333232}}@media screen and (max-width:750px){.WEB[data-v-de13ac60]{display:none}.my_claim_wrap[data-v-de13ac60]{width:100%}.my_claim[data-v-de13ac60]{position:relative;display:flex;align-items:center;flex-direction:column;margin:0 10px}.my_claim .claim_title[data-v-de13ac60]{width:100%}.my_claim .claim_title h3[data-v-de13ac60]{height:44px;line-height:55px;padding-left:10px}.my_claim .claim_text[data-v-de13ac60]{display:none}.my_claim .claim_item[data-v-de13ac60]{width:100%;margin-top:10px;display:flex;flex-direction:column;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;padding:20px 16px}body.light .my_claim .claim_item[data-v-de13ac60]{background:#fff}body.dark .my_claim .claim_item[data-v-de13ac60]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_h5>span[data-v-de13ac60]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_h5>span i[data-v-de13ac60]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_h5>span .call_icon[data-v-de13ac60]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_h5>span .put_icon[data-v-de13ac60]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_h5>.call_text[data-v-de13ac60]{color:#00b900}.my_claim .claim_item .claim_item_insure_h5>.put_text[data-v-de13ac60]{color:#dc3545}.my_claim .claim_item .claim_item_type_h5[data-v-de13ac60]{display:flex;margin-top:16px}.my_claim .claim_item .claim_item_type_h5 p[data-v-de13ac60]{display:flex;flex-direction:column;flex:1}.my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{color:#000}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{color:#626262}.my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){margin-top:4px;font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:500;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){color:#17173a}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){color:#e1e1e1}.my_claim .claim_item .claim_item_action_h5[data-v-de13ac60]{width:100%;margin-top:16px}.my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{width:100%;height:40px;border-radius:3px;color:#fff}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]:hover{background:#333232}}.icon[data-v-de13ac60]{width:24px;height:24px;vertical-align:-.15em;fill:#787878;overflow:hidden}",""]),e.exports=_},1675:function(e,t,c){"use strict";c(1526)},1676:function(e,t,c){var l=c(28)(!1);l.push([e.i,"@media screen and (min-width:750px){.main_container[data-v-64862d70]{width:80%;min-width:1026px;margin:20px auto 0}}",""]),e.exports=l},1773:function(e,t,c){"use strict";c.r(t);var l=c(4),n=(c(34),c(258),c(54),c(114)),m=c(44),o=c(1299),_=c(366),d=c(89),r=c(52),y=c(1301),h=c(1302),f=c(1470),x=c(1464),v=c(1443),w="0x021297e233550eDBa8e6487EB7c6696cFBB63b88",A={components:{WaitingConfirmationDialog:y.a,SuccessConfirmationDialog:h.a,NoData:f.a,Loading:x.default},data:function(){return{precision:n.a,fixD:m.c,CurrentPage:1,PageSize:10,MinNumber:0,MaxNumber:10,isLoading:!0,isLogin:!1,SuccessHash:"",WaitingText:"",WaitingVisible:!1,SuccessVisible:!1,PolicyList:[]}},computed:{CurrentAccount:function(){return this.$store.state.userInfo}},watch:{CurrentAccount:{handler:"reloadData",immediate:!0}},methods:{reloadData:function(e){e&&(console.log(e),this.isLogin=e.isLogin,this.isLoading=!0,this.getPolicysList())},waitingClose:function(){this.WaitingVisible=!1},successClose:function(){this.SuccessVisible=!1},changePage:function(e){this.CurrentPage=e,this.CurrentPage<=1?(this.MinNumber=0,this.MaxNumber=this.PageSize):(this.MinNumber=(e-1)*this.PageSize,this.MaxNumber=(e-1)*this.PageSize+this.PageSize)},Settleable:function(e,t){return Object(r.f)(_,w).methods.settleable(e,t).call()},BalanceOf:function(e,t){var c=Object(r.f)(d,e),l=this.CurrentAccount.account;return c.methods.balanceOf(l).call().then((function(e){return Object(r.e)(e,t)}))},getPolicysList:function(){var e=this;Object(o.a)().then((function(t){var c=t.data.data.options,o=[];return e.isLoading=!0,c.forEach(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(c){var l,_,d,y,h,f,x,w,A,C,k,B,D,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l=Object(v.b)({CollateralAddress:c.collateral,UnderlyingAddress:c.underlying}))){t.next=22;break}return _=l.Type,d=l.InsuranceName,y=l.CollateralDecimals,h=l.CollateralSymbol,f=l.UnderlyingSymbol,x=l.UnderlyingDecimals,w=l.SettleTokenDecimals,t.next=5,e.BalanceOf(c.long,y);case 5:return A=t.sent,t.next=8,e.BalanceOf(c.short,y);case 8:if(C=t.sent,Number(Object(m.c)(C,8))>0&&Number(Object(m.c)(A,8))>0&&o.push({collateral:c.collateral,collateral_symbol:h,collateral_decimals:y,underlying:c.collateral,underlying_symbol:f,underlying_decimals:x,expiry:c.expiry,long:c.long,short:c.short,type:_,TypeCoin:d,claimBalance:Number(C)>Number(A)?A:C,col:0,fee:0,und:0}),k=Number(C)-Number(A)+"",!(Number(k)>0)){t.next=16;break}return t.next=14,e.Settleable(c.short,Object(r.j)(Object(m.c)(k,10),y));case 14:B=t.sent,o.push({collateral:c.collateral,collateral_symbol:h,collateral_decimals:y,underlying:c.collateral,underlying_symbol:f,underlying_decimals:x,expiry:c.expiry,long:c.long,short:c.short,type:_,TypeCoin:d,claimBalance:0,col:Object(r.e)(B.col,y),fee:Object(r.e)(B.fee,w),und:Object(r.e)(B.und,x)});case 16:return D={},L=[],o.forEach((function(e){D[e.collateral+e.underlying+e.short]||(D[e.collateral+e.underlying+e.short]=1,L.push(e))})),e.PolicyList=L.filter((function(e){return Object(m.c)(e.und,8)>0||n.a.plus(e.col,e.claimBalance)>0})),e.isLoading=!1,t.abrupt("return",e.PolicyList);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},toClaim:function(e){var t=this,data=e;console.log(data);var c=Object(r.f)(_,w),l=this.CurrentAccount.account;0!=data.claimBalance?c.methods.burn(data.short,Object(r.j)(data.claimBalance,data.collateral_decimals)).send({from:l}).on("transactionHash",(function(e){t.WaitingVisible=!0})).on("receipt",(function(e){t.SuccessVisible||(t.SuccessHash=e.transactionHash,t.WaitingVisible=!1,t.SuccessVisible=!0,t.getPolicysList())})).on("error",(function(e){t.WaitingVisible=!1,t.SuccessVisible=!1})):c.methods.settle(data.short).send({from:l}).on("transactionHash",(function(e){t.WaitingVisible=!0})).on("receipt",(function(e){t.SuccessVisible||(t.SuccessHash=e.transactionHash,t.WaitingVisible=!1,t.SuccessVisible=!0,t.getPolicysList())})).on("error",(function(e){t.WaitingVisible=!1,t.SuccessVisible=!1}))}}},C=A,k=(c(1673),c(19)),B={layout:"home",components:{MyClaim:Object(k.a)(C,(function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"my_claim"},[c("div",{staticClass:"claim_title"},[c("h3",[e._v(e._s(e.$t("Type.Claim")))])]),e._v(" "),e.isLoading?c("Loading"):e._e(),e._v(" "),!e.isLoading&&e.PolicyList&&e.PolicyList.length?c("div",{staticClass:"claim_text"},[c("span",[e._v(e._s(e.$t("Table.Type")))]),e._v(" "),c("span",[e._v(e._s(e.$t("Table.DenAssets")))]),e._v(" "),c("span",[e._v(e._s(e.$t("Table.BaseAssets")))]),e._v(" "),c("span")]):e._e(),e._v(" "),!e.isLoading&&e.PolicyList&&e.PolicyList.length?c("div",{staticClass:"my_claim_wrap"},e._l(e.PolicyList.slice(e.MinNumber,e.MaxNumber),(function(t,l){return c("div",{key:l,staticClass:"claim_item"},[c("section",{staticClass:"claim_item_insure_web WEB"},[c("span",{class:"Call"==t.type?"call_text":"put_text"},[e._v("\n          "+e._s(t.TypeCoin)+"\n          "),c("i",{class:"Call"==t.type?"call_icon":"put_icon"})])]),e._v(" "),c("section",{staticClass:"claim_item_call_web WEB"},["Call"==t.type?c("span",[e._v("\n          "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n          "+e._s(t.collateral_symbol)+"\n        ")]):c("span",[e._v("\n          "+e._s(e.fixD(t.und,8))+"\n          "+e._s(t.underlying_symbol)+"\n        ")])]),e._v(" "),c("section",{staticClass:"claim_item_put_web WEB"},["Call"==t.type?c("span",[e._v("\n          "+e._s(e.fixD(t.und,8))+"\n          "+e._s(t.underlying_symbol)+"\n        ")]):c("span",[e._v("\n          "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n          "+e._s(t.collateral_symbol)+"\n        ")])]),e._v(" "),c("section",{staticClass:"claim_item_action_web WEB"},[c("button",{on:{click:function(c){return e.toClaim(t)}}},[e._v(e._s(e.$t("Table.GetBack")))])]),e._v(" "),c("section",{staticClass:"claim_item_insure_h5 H5"},[c("span",{class:"Call"==t.type?"call_text":"put_text"},[e._v("\n          "+e._s(t.TypeCoin)+"\n          "),c("i",{class:"Call"==t.type?"call_icon":"put_icon"})])]),e._v(" "),c("section",{staticClass:"claim_item_type_h5 H5"},[c("p",[c("span",[e._v(e._s(e.$t("Table.DenAssets")))]),e._v(" "),"call"==t.type?c("span",[e._v("\n            "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n            "+e._s(t.collateral_symbol)+"\n          ")]):c("span",[e._v("\n            "+e._s(e.fixD(t.und,8))+"\n            "+e._s(t.underlying_symbol)+"\n          ")])]),e._v(" "),c("p",[c("span",[e._v(e._s(e.$t("Table.BaseAssets")))]),e._v(" "),"call"==t.type?c("span",[e._v("\n            "+e._s(e.fixD(t.und,8))+"\n            "+e._s(t.underlying_symbol)+"\n          ")]):c("span",[e._v("\n            "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n            "+e._s(t.collateral_symbol)+"\n          ")])])]),e._v(" "),c("section",{staticClass:"claim_item_action_h5 H5"},[c("button",{on:{click:function(c){return e.toClaim(t)}}},[e._v(e._s(e.$t("Table.GetBack")))])])])})),0):e._e(),e._v(" "),e.isLoading||e.PolicyList&&e.PolicyList.length?e._e():c("NoData"),e._v(" "),c("div",{staticClass:"pagination"},[c("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,"hide-on-single-page":e.PolicyList.length<e.PageSize,total:e.PolicyList.length},on:{"current-change":e.changePage}})],1),e._v(" "),c("WaitingConfirmationDialog",{attrs:{DialogVisible:e.WaitingVisible,DialogClose:e.waitingClose}},[c("div",{staticClass:"waiting_content"},[c("p",[e._v("\n        "+e._s(e.WaitingText)+"\n      ")])])]),e._v(" "),c("SuccessConfirmationDialog",{attrs:{DialogVisible:e.SuccessVisible,DialogClose:e.successClose,SuccessHash:e.SuccessHash}})],1)}),[],!1,null,"de13ac60",null).exports}},D=(c(1675),Object(k.a)(B,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main_container"},[t("MyClaim")],1)}),[],!1,null,"64862d70",null));t.default=D.exports}}]);