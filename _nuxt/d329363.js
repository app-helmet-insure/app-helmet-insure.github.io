(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1545:function(e,t,l){var content=l(1703);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(29).default)("a2a32d14",content,!0,{sourceMap:!1})},1548:function(e,t,l){var content=l(1705);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(29).default)("85f0ccd6",content,!0,{sourceMap:!1})},1702:function(e,t,l){"use strict";l(1545)},1703:function(e,t,l){var c=l(28),n=l(81),m=l(1546),o=l(1547),_=c(!1),d=n(m),r=n(o);_.push([e.i,".pagination[data-v-de13ac60]{width:100%;display:flex;justify-content:flex-end;padding:20px 0}@media screen and (min-width:750px){.my_claim_wrap[data-v-de13ac60]{width:100%}.H5[data-v-de13ac60]{display:none}.my_claim[data-v-de13ac60]{position:relative;min-height:600px;display:flex;align-items:center;flex-direction:column}.my_claim .claim_title[data-v-de13ac60]{width:100%}.my_claim .claim_text[data-v-de13ac60]{width:100%;display:flex}.my_claim .claim_text span[data-v-de13ac60]{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px;margin-top:16px}body.light .my_claim .claim_text span[data-v-de13ac60]{color:#000}body.dark .my_claim .claim_text span[data-v-de13ac60]{color:#626262}.my_claim .claim_text span[data-v-de13ac60]:first-of-type,.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(2),.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(3){flex:2}.my_claim .claim_text span[data-v-de13ac60]:nth-of-type(4){flex:1}.my_claim .claim_item[data-v-de13ac60]{width:100%;height:90px;margin-top:10px;display:flex;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;align-items:center;padding:0 20px}body.light .my_claim .claim_item[data-v-de13ac60]{background:#fff}body.dark .my_claim .claim_item[data-v-de13ac60]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_web[data-v-de13ac60]{flex:2}.my_claim .claim_item .claim_item_insure_web>span[data-v-de13ac60]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_web>span i[data-v-de13ac60]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_web>span .call_icon[data-v-de13ac60]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_web>span .put_icon[data-v-de13ac60]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_web>.call_text[data-v-de13ac60]{color:#28a745}.my_claim .claim_item .claim_item_insure_web>.put_text[data-v-de13ac60]{color:#dc3545}.my_claim .claim_item .claim_item_call_web[data-v-de13ac60],.my_claim .claim_item .claim_item_put_web[data-v-de13ac60]{flex:2}.my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],.my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:14px}body.light .my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],body.light .my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{color:#17173a}body.dark .my_claim .claim_item .claim_item_call_web span[data-v-de13ac60],body.dark .my_claim .claim_item .claim_item_put_web span[data-v-de13ac60]{color:#e1e1e1}.my_claim .claim_item .claim_item_action_web[data-v-de13ac60]{flex:1;display:flex;justify-content:flex-end}.my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{padding:0 20px;height:32px;border-radius:3px}body.light .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-de13ac60]:hover{background:#333232}}@media screen and (max-width:750px){.WEB[data-v-de13ac60]{display:none}.my_claim_wrap[data-v-de13ac60]{width:100%}.my_claim[data-v-de13ac60]{position:relative;display:flex;align-items:center;flex-direction:column;margin:0 10px}.my_claim .claim_title[data-v-de13ac60]{width:100%}.my_claim .claim_title h3[data-v-de13ac60]{height:44px;line-height:55px;padding-left:10px}.my_claim .claim_text[data-v-de13ac60]{display:none}.my_claim .claim_item[data-v-de13ac60]{width:100%;margin-top:10px;display:flex;flex-direction:column;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;padding:20px 16px}body.light .my_claim .claim_item[data-v-de13ac60]{background:#fff}body.dark .my_claim .claim_item[data-v-de13ac60]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_h5>span[data-v-de13ac60]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_h5>span i[data-v-de13ac60]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_h5>span .call_icon[data-v-de13ac60]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_h5>span .put_icon[data-v-de13ac60]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_h5>.call_text[data-v-de13ac60]{color:#00b900}.my_claim .claim_item .claim_item_insure_h5>.put_text[data-v-de13ac60]{color:#dc3545}.my_claim .claim_item .claim_item_type_h5[data-v-de13ac60]{display:flex;margin-top:16px}.my_claim .claim_item .claim_item_type_h5 p[data-v-de13ac60]{display:flex;flex-direction:column;flex:1}.my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{color:#000}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:first-of-type{color:#626262}.my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){margin-top:4px;font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:500;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){color:#17173a}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-de13ac60]:nth-of-type(2){color:#e1e1e1}.my_claim .claim_item .claim_item_action_h5[data-v-de13ac60]{width:100%;margin-top:16px}.my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{width:100%;height:40px;border-radius:3px;color:#fff}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-de13ac60]:hover{background:#333232}}.icon[data-v-de13ac60]{width:24px;height:24px;vertical-align:-.15em;fill:#787878;overflow:hidden}",""]),e.exports=_},1704:function(e,t,l){"use strict";l(1548)},1705:function(e,t,l){var c=l(28)(!1);c.push([e.i,"@media screen and (min-width:750px){.main_container[data-v-64862d70]{width:80%;min-width:1026px;margin:20px auto 0}}",""]),e.exports=c},1795:function(e,t,l){"use strict";l.r(t);var c=l(4),n=(l(34),l(257),l(52),l(114)),m=l(44),o=l(1291),_=l(364),d=l(112),r=l(59),y=l(1431),h=l(1432),f=l(1460),v=l(1459),x=l(1437),w="0x021297e233550eDBa8e6487EB7c6696cFBB63b88",C={components:{WaitingConfirmationDialog:y.a,SuccessConfirmationDialog:h.a,NoData:f.a,Loading:v.default},data:function(){return{precision:n.a,fixD:m.c,CurrentPage:1,PageSize:10,MinNumber:0,MaxNumber:10,isLoading:!0,isLogin:!1,SuccessHash:"",WaitingText:"",WaitingVisible:!1,SuccessVisible:!1,PolicyList:[]}},computed:{CurrentAccount:function(){return this.$store.state.userInfo}},watch:{CurrentAccount:{handler:"reloadData",immediate:!0}},methods:{reloadData:function(e){e&&(console.log(e),this.isLogin=e.isLogin,this.isLoading=!0,this.getPolicysList())},waitingClose:function(){this.WaitingVisible=!1},successClose:function(){this.SuccessVisible=!1},changePage:function(e){this.CurrentPage=e,this.CurrentPage<=1?(this.MinNumber=0,this.MaxNumber=this.PageSize):(this.MinNumber=(e-1)*this.PageSize,this.MaxNumber=(e-1)*this.PageSize+this.PageSize)},Settleable:function(e,t){return Object(r.f)(_,w).methods.settleable(e,t).call()},BalanceOf:function(e,t){var l=Object(r.f)(d,e),c=this.CurrentAccount.account;return l.methods.balanceOf(c).call().then((function(e){return Object(r.e)(e,t)}))},getPolicysList:function(){var e=this;Object(o.a)().then((function(t){var l=t.data.data.options,o=[];return e.isLoading=!0,l.forEach(function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(l){var c,_,d,y,h,f,v,w,C,k,P,S,B,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c=Object(x.b)({CollateralAddress:l.collateral,UnderlyingAddress:l.underlying}))){t.next=22;break}return _=c.Type,d=c.InsuranceName,y=c.CollateralDecimals,h=c.CollateralSymbol,f=c.UnderlyingSymbol,v=c.UnderlyingDecimals,w=c.SettleTokenDecimals,t.next=5,e.BalanceOf(l.long,y);case 5:return C=t.sent,t.next=8,e.BalanceOf(l.short,y);case 8:if(k=t.sent,Number(Object(m.c)(k,8))>0&&Number(Object(m.c)(C,8))>0&&o.push({collateral:l.collateral,collateral_symbol:h,collateral_decimals:y,underlying:l.collateral,underlying_symbol:f,underlying_decimals:v,expiry:l.expiry,long:l.long,short:l.short,type:_,TypeCoin:d,claimBalance:Number(k)>Number(C)?C:k,col:0,fee:0,und:0}),P=Number(k)-Number(C)+"",!(Number(P)>0)){t.next=16;break}return t.next=14,e.Settleable(l.short,Object(r.i)(Object(m.c)(P,10),y));case 14:S=t.sent,o.push({collateral:l.collateral,collateral_symbol:h,collateral_decimals:y,underlying:l.collateral,underlying_symbol:f,underlying_decimals:v,expiry:l.expiry,long:l.long,short:l.short,type:_,TypeCoin:d,claimBalance:0,col:Object(r.e)(S.col,y),fee:Object(r.e)(S.fee,w),und:Object(r.e)(S.und,v)});case 16:return B={},L=[],o.forEach((function(e){B[e.collateral+e.underlying+e.short]||(B[e.collateral+e.underlying+e.short]=1,L.push(e))})),e.PolicyList=L.filter((function(e){return Object(m.c)(e.und,8)>0||n.a.plus(e.col,e.claimBalance)>0})),e.isLoading=!1,t.abrupt("return",e.PolicyList);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},toClaim:function(e){var t=this,data=e;console.log(data);var l=Object(r.f)(_,w),c=this.CurrentAccount.account;0!=data.claimBalance?l.methods.burn(data.short,Object(r.i)(data.claimBalance,data.collateral_decimals)).send({from:c}).on("transactionHash",(function(e){t.WaitingVisible=!0})).on("receipt",(function(e){t.SuccessVisible||(t.SuccessHash=e.transactionHash,t.WaitingVisible=!1,t.SuccessVisible=!0,t.getPolicysList())})).on("error",(function(e){t.WaitingVisible=!1,t.SuccessVisible=!1})):l.methods.settle(data.short).send({from:c}).on("transactionHash",(function(e){t.WaitingVisible=!0})).on("receipt",(function(e){t.SuccessVisible||(t.SuccessHash=e.transactionHash,t.WaitingVisible=!1,t.SuccessVisible=!0,t.getPolicysList())})).on("error",(function(e){t.WaitingVisible=!1,t.SuccessVisible=!1}))}}},k=C,P=(l(1702),l(19)),S={layout:"home",components:{MyClaim:Object(P.a)(k,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"my_claim"},[l("div",{staticClass:"claim_title"},[l("h3",[e._v(e._s(e.$t("Type.Claim")))])]),e._v(" "),e.isLoading?l("Loading"):e._e(),e._v(" "),!e.isLoading&&e.PolicyList&&e.PolicyList.length?l("div",{staticClass:"claim_text"},[l("span",[e._v(e._s(e.$t("Table.Type")))]),e._v(" "),l("span",[e._v(e._s(e.$t("Table.DenAssets")))]),e._v(" "),l("span",[e._v(e._s(e.$t("Table.BaseAssets")))]),e._v(" "),l("span")]):e._e(),e._v(" "),!e.isLoading&&e.PolicyList&&e.PolicyList.length?l("div",{staticClass:"my_claim_wrap"},e._l(e.PolicyList.slice(e.MinNumber,e.MaxNumber),(function(t,c){return l("div",{key:c,staticClass:"claim_item"},[l("section",{staticClass:"claim_item_insure_web WEB"},[l("span",{class:"Call"==t.type?"call_text":"put_text"},[e._v("\n          "+e._s(t.TypeCoin)+"\n          "),l("i",{class:"Call"==t.type?"call_icon":"put_icon"})])]),e._v(" "),l("section",{staticClass:"claim_item_call_web WEB"},["Call"==t.type?l("span",[e._v("\n          "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n          "+e._s(t.collateral_symbol)+"\n        ")]):l("span",[e._v("\n          "+e._s(e.fixD(t.und,8))+"\n          "+e._s(t.underlying_symbol)+"\n        ")])]),e._v(" "),l("section",{staticClass:"claim_item_put_web WEB"},["Call"==t.type?l("span",[e._v("\n          "+e._s(e.fixD(t.und,8))+"\n          "+e._s(t.underlying_symbol)+"\n        ")]):l("span",[e._v("\n          "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n          "+e._s(t.collateral_symbol)+"\n        ")])]),e._v(" "),l("section",{staticClass:"claim_item_action_web WEB"},[l("button",{on:{click:function(l){return e.toClaim(t)}}},[e._v(e._s(e.$t("Table.GetBack")))])]),e._v(" "),l("section",{staticClass:"claim_item_insure_h5 H5"},[l("span",{class:"Call"==t.type?"call_text":"put_text"},[e._v("\n          "+e._s(t.TypeCoin)+"\n          "),l("i",{class:"Call"==t.type?"call_icon":"put_icon"})])]),e._v(" "),l("section",{staticClass:"claim_item_type_h5 H5"},[l("p",[l("span",[e._v(e._s(e.$t("Table.DenAssets")))]),e._v(" "),"call"==t.type?l("span",[e._v("\n            "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n            "+e._s(t.collateral_symbol)+"\n          ")]):l("span",[e._v("\n            "+e._s(e.fixD(t.und,8))+"\n            "+e._s(t.underlying_symbol)+"\n          ")])]),e._v(" "),l("p",[l("span",[e._v(e._s(e.$t("Table.BaseAssets")))]),e._v(" "),"call"==t.type?l("span",[e._v("\n            "+e._s(e.fixD(t.und,8))+"\n            "+e._s(t.underlying_symbol)+"\n          ")]):l("span",[e._v("\n            "+e._s(e.fixD(e.precision.plus(t.col,t.claimBalance),8))+"\n            "+e._s(t.collateral_symbol)+"\n          ")])])]),e._v(" "),l("section",{staticClass:"claim_item_action_h5 H5"},[l("button",{on:{click:function(l){return e.toClaim(t)}}},[e._v(e._s(e.$t("Table.GetBack")))])])])})),0):e._e(),e._v(" "),e.isLoading||e.PolicyList&&e.PolicyList.length?e._e():l("NoData"),e._v(" "),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,"hide-on-single-page":e.PolicyList.length<e.PageSize,total:e.PolicyList.length},on:{"current-change":e.changePage}})],1),e._v(" "),l("WaitingConfirmationDialog",{attrs:{DialogVisible:e.WaitingVisible,DialogClose:e.waitingClose}},[l("div",{staticClass:"waiting_content"},[l("p",[e._v("\n        "+e._s(e.WaitingText)+"\n      ")])])]),e._v(" "),l("SuccessConfirmationDialog",{attrs:{DialogVisible:e.SuccessVisible,DialogClose:e.successClose,SuccessHash:e.SuccessHash}})],1)}),[],!1,null,"de13ac60",null).exports}},B=(l(1704),Object(P.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main_container"},[t("MyClaim")],1)}),[],!1,null,"64862d70",null));t.default=B.exports}}]);