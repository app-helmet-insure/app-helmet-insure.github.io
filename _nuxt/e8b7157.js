(window.webpackJsonp=window.webpackJsonp||[]).push([[34,22],{1562:function(t,e,l){var content=l(1717);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(27).default)("eeb412d0",content,!0,{sourceMap:!1})},1565:function(t,e,l){var content=l(1719);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(27).default)("85f0ccd6",content,!0,{sourceMap:!1})},1716:function(t,e,l){"use strict";l(1562)},1717:function(t,e,l){var n=l(26),c=l(83),m=l(1563),o=l(1564),_=n(!1),r=c(m),d=c(o);_.push([t.i,".pagination[data-v-04ba4097]{width:100%;display:flex;justify-content:flex-end;padding:20px 0}@media screen and (min-width:750px){.my_claim_wrap[data-v-04ba4097]{width:100%}.H5[data-v-04ba4097]{display:none}.my_claim[data-v-04ba4097]{position:relative;min-height:600px;display:flex;align-items:center;flex-direction:column}.my_claim .claim_title[data-v-04ba4097]{width:100%}.my_claim .claim_text[data-v-04ba4097]{width:100%;display:flex}.my_claim .claim_text span[data-v-04ba4097]{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px;margin-top:16px}body.light .my_claim .claim_text span[data-v-04ba4097]{color:#000}body.dark .my_claim .claim_text span[data-v-04ba4097]{color:#626262}.my_claim .claim_text span[data-v-04ba4097]:first-of-type,.my_claim .claim_text span[data-v-04ba4097]:nth-of-type(2),.my_claim .claim_text span[data-v-04ba4097]:nth-of-type(3){flex:2}.my_claim .claim_text span[data-v-04ba4097]:nth-of-type(4){flex:1}.my_claim .claim_item[data-v-04ba4097]{width:100%;height:90px;margin-top:10px;display:flex;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;align-items:center;padding:0 20px}body.light .my_claim .claim_item[data-v-04ba4097]{background:#fff}body.dark .my_claim .claim_item[data-v-04ba4097]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_web[data-v-04ba4097]{flex:2}.my_claim .claim_item .claim_item_insure_web>span[data-v-04ba4097]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_web>span i[data-v-04ba4097]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_web>span .call_icon[data-v-04ba4097]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_web>span .put_icon[data-v-04ba4097]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_web>.call_text[data-v-04ba4097]{color:#28a745}.my_claim .claim_item .claim_item_insure_web>.put_text[data-v-04ba4097]{color:#dc3545}.my_claim .claim_item .claim_item_call_web[data-v-04ba4097],.my_claim .claim_item .claim_item_put_web[data-v-04ba4097]{flex:2}.my_claim .claim_item .claim_item_call_web span[data-v-04ba4097],.my_claim .claim_item .claim_item_put_web span[data-v-04ba4097]{font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:14px}body.light .my_claim .claim_item .claim_item_call_web span[data-v-04ba4097],body.light .my_claim .claim_item .claim_item_put_web span[data-v-04ba4097]{color:#17173a}body.dark .my_claim .claim_item .claim_item_call_web span[data-v-04ba4097],body.dark .my_claim .claim_item .claim_item_put_web span[data-v-04ba4097]{color:#e1e1e1}.my_claim .claim_item .claim_item_action_web[data-v-04ba4097]{flex:1;display:flex;justify-content:flex-end}.my_claim .claim_item .claim_item_action_web button[data-v-04ba4097]{padding:0 20px;height:32px;border-radius:3px}body.light .my_claim .claim_item .claim_item_action_web button[data-v-04ba4097]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-04ba4097]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_web button[data-v-04ba4097]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_web button[data-v-04ba4097]:hover{background:#333232}}@media screen and (max-width:750px){.WEB[data-v-04ba4097]{display:none}.my_claim_wrap[data-v-04ba4097]{width:100%}.my_claim[data-v-04ba4097]{position:relative;display:flex;align-items:center;flex-direction:column;margin:0 10px}.my_claim .claim_title[data-v-04ba4097]{width:100%}.my_claim .claim_title h3[data-v-04ba4097]{height:44px;line-height:55px;padding-left:10px}.my_claim .claim_text[data-v-04ba4097]{display:none}.my_claim .claim_item[data-v-04ba4097]{width:100%;margin-top:10px;display:flex;flex-direction:column;box-shadow:0 4px 8px 0 hsla(0,0%,60.8%,.02);border-radius:5px;padding:20px 16px}body.light .my_claim .claim_item[data-v-04ba4097]{background:#fff}body.dark .my_claim .claim_item[data-v-04ba4097]{background:#1d1d1d}.my_claim .claim_item .claim_item_insure_h5>span[data-v-04ba4097]{margin-top:10px;font-size:16px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:700;line-height:24px;display:flex;align-items:center}.my_claim .claim_item .claim_item_insure_h5>span i[data-v-04ba4097]{display:inline-block;width:16px;height:16px;background-repeat:no-repeat;background-size:cover;margin-left:4px}.my_claim .claim_item .claim_item_insure_h5>span .call_icon[data-v-04ba4097]{background-image:url("+r+")}.my_claim .claim_item .claim_item_insure_h5>span .put_icon[data-v-04ba4097]{background-image:url("+d+")}.my_claim .claim_item .claim_item_insure_h5>.call_text[data-v-04ba4097]{color:#00b900}.my_claim .claim_item .claim_item_insure_h5>.put_text[data-v-04ba4097]{color:#dc3545}.my_claim .claim_item .claim_item_type_h5[data-v-04ba4097]{display:flex;margin-top:16px}.my_claim .claim_item .claim_item_type_h5 p[data-v-04ba4097]{display:flex;flex-direction:column;flex:1}.my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:first-of-type{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:first-of-type{color:#000}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:first-of-type{color:#626262}.my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:nth-of-type(2){margin-top:4px;font-size:14px;font-family:IBMPlexSans-Bold,IBMPlexSans;font-weight:500;line-height:14px}body.light .my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:nth-of-type(2){color:#17173a}body.dark .my_claim .claim_item .claim_item_type_h5 span[data-v-04ba4097]:nth-of-type(2){color:#e1e1e1}.my_claim .claim_item .claim_item_action_h5[data-v-04ba4097]{width:100%;margin-top:16px}.my_claim .claim_item .claim_item_action_h5 button[data-v-04ba4097]{width:100%;height:40px;border-radius:3px;color:#fff}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-04ba4097]{color:#fff;background:#17173a}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-04ba4097]{color:#fd7e14;background:#2c2c2c}body.light .my_claim .claim_item .claim_item_action_h5 button[data-v-04ba4097]:hover{background:#2c2c2c}body.dark .my_claim .claim_item .claim_item_action_h5 button[data-v-04ba4097]:hover{background:#333232}}.icon[data-v-04ba4097]{width:24px;height:24px;vertical-align:-.15em;fill:#787878;overflow:hidden}",""]),t.exports=_},1718:function(t,e,l){"use strict";l(1565)},1719:function(t,e,l){var n=l(26)(!1);n.push([t.i,"@media screen and (min-width:750px){.main_container[data-v-64862d70]{width:80%;min-width:1026px;margin:20px auto 0}}",""]),t.exports=n},1809:function(t,e,l){"use strict";l.r(e);var n=l(4),c=(l(30),l(265),l(50),l(115)),m=l(40),o=l(1308),_=l(372),r=l(113),d=l(58),y=l(1448),h=l(1449),f=l(1477),v=l(1476),x=l(1454),w="0x021297e233550eDBa8e6487EB7c6696cFBB63b88",C={components:{WaitingConfirmationDialog:y.a,SuccessConfirmationDialog:h.a,NoData:f.a,Loading:v.default},data:function(){return{precision:c.a,fixD:m.c,CurrentPage:1,PageSize:10,MinNumber:0,MaxNumber:10,isLoading:!0,isLogin:!1,SuccessHash:"",WaitingText:"",WaitingVisible:!1,SuccessVisible:!1,PolicyList:[]}},computed:{CurrentAccount:function(){return this.$store.state.userInfo}},watch:{CurrentAccount:{handler:"reloadData",immediate:!0}},methods:{reloadData:function(t){t&&(console.log(t),this.isLogin=t.isLogin,this.isLoading=!0,this.getPolicysList())},waitingClose:function(){this.WaitingVisible=!1},successClose:function(){this.SuccessVisible=!1},changePage:function(t){this.CurrentPage=t,this.CurrentPage<=1?(this.MinNumber=0,this.MaxNumber=this.PageSize):(this.MinNumber=(t-1)*this.PageSize,this.MaxNumber=(t-1)*this.PageSize+this.PageSize)},Settleable:function(t,e){return Object(d.f)(_,w).methods.settleable(t,e).call()},BalanceOf:function(t,e){var l=Object(d.f)(r,t),n=this.CurrentAccount.account;return l.methods.balanceOf(n).call().then((function(t){return Object(d.e)(t,e)}))},getPolicysList:function(){var t=this;Object(o.a)().then((function(e){var l=e.data.data.options,o=[];return t.isLoading=!0,l.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(l){var n,_,r,y,h,f,v,w,C,k,P,S,B,L;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Object(x.b)({CollateralAddress:l.collateral,UnderlyingAddress:l.underlying}))){e.next=22;break}return _=n.Type,r=n.InsuranceName,y=n.CollateralDecimals,h=n.CollateralSymbol,f=n.UnderlyingSymbol,v=n.UnderlyingDecimals,w=n.SettleTokenDecimals,e.next=5,t.BalanceOf(l.long,y);case 5:return C=e.sent,e.next=8,t.BalanceOf(l.short,y);case 8:if(k=e.sent,Number(Object(m.c)(k,8))>0&&Number(Object(m.c)(C,8))>0&&o.push({collateral:l.collateral,collateral_symbol:h,collateral_decimals:y,underlying:l.collateral,underlying_symbol:f,underlying_decimals:v,expiry:l.expiry,long:l.long,short:l.short,type:_,TypeCoin:r,claimBalance:Number(k)>Number(C)?C:k,col:0,fee:0,und:0}),P=Number(k)-Number(C)+"",!(Number(P)>0)){e.next=16;break}return e.next=14,t.Settleable(l.short,Object(d.i)(Object(m.c)(P,10),y));case 14:S=e.sent,o.push({collateral:l.collateral,collateral_symbol:h,collateral_decimals:y,underlying:l.collateral,underlying_symbol:f,underlying_decimals:v,expiry:l.expiry,long:l.long,short:l.short,type:_,TypeCoin:r,claimBalance:0,col:Object(d.e)(S.col,y),fee:Object(d.e)(S.fee,w),und:Object(d.e)(S.und,v)});case 16:return B={},L=[],o.forEach((function(t){B[t.collateral+t.underlying+t.short]||(B[t.collateral+t.underlying+t.short]=1,L.push(t))})),t.PolicyList=L.filter((function(t){return Object(m.c)(t.und,8)>0||c.a.plus(t.col,t.claimBalance)>0})),t.isLoading=!1,e.abrupt("return",t.PolicyList);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},toClaim:function(t){var e=this,data=t;console.log(data);var l=Object(d.f)(_,w),n=this.CurrentAccount.account;0!=data.claimBalance?l.methods.burn(data.short,Object(d.i)(data.claimBalance,data.collateral_decimals)).send({from:n}).on("transactionHash",(function(t){e.WaitingVisible=!0})).on("receipt",(function(t){e.SuccessVisible||(e.SuccessHash=t.transactionHash,e.WaitingVisible=!1,e.SuccessVisible=!0,e.getPolicysList())})).on("error",(function(t){e.WaitingVisible=!1,e.SuccessVisible=!1})):l.methods.settle(data.short).send({from:n}).on("transactionHash",(function(t){e.WaitingVisible=!0})).on("receipt",(function(t){e.SuccessVisible||(e.SuccessHash=t.transactionHash,e.WaitingVisible=!1,e.SuccessVisible=!0,e.getPolicysList())})).on("error",(function(t){e.WaitingVisible=!1,e.SuccessVisible=!1}))}}},k=C,P=(l(1716),l(18)),S={layout:"home",components:{MyClaim:Object(P.a)(k,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"my_claim"},[l("div",{staticClass:"claim_title"},[l("h3",[t._v(t._s(t.$t("Type.Claim")))])]),t._v(" "),t.isLoading?l("Loading"):t._e(),t._v(" "),!t.isLoading&&t.PolicyList&&t.PolicyList.length?l("div",{staticClass:"claim_text"},[l("span",[t._v(t._s(t.$t("Table.Type")))]),t._v(" "),l("span",[t._v(t._s(t.$t("Table.DenAssets")))]),t._v(" "),l("span",[t._v(t._s(t.$t("Table.BaseAssets")))]),t._v(" "),l("span")]):t._e(),t._v(" "),!t.isLoading&&t.PolicyList&&t.PolicyList.length?l("div",{staticClass:"my_claim_wrap"},t._l(t.PolicyList.slice(t.MinNumber,t.MaxNumber),(function(e,n){return l("div",{key:n,staticClass:"claim_item"},[l("section",{staticClass:"claim_item_insure_web WEB"},[l("span",{class:"Call"==e.type?"call_text":"put_text"},[t._v("\n          "+t._s(e.TypeCoin)+"\n          "),l("i",{class:"Call"==e.type?"call_icon":"put_icon"})])]),t._v(" "),l("section",{staticClass:"claim_item_call_web WEB"},["Call"==e.type?l("span",[t._v("\n          "+t._s(t.fixD(t.precision.plus(e.col,e.claimBalance),8))+"\n          "+t._s(e.collateral_symbol)+"\n        ")]):l("span",[t._v("\n          "+t._s(t.fixD(e.und,8))+"\n          "+t._s(e.underlying_symbol)+"\n        ")])]),t._v(" "),l("section",{staticClass:"claim_item_put_web WEB"},["Call"==e.type?l("span",[t._v("\n          "+t._s(t.fixD(e.und,8))+"\n          "+t._s(e.underlying_symbol)+"\n        ")]):l("span",[t._v("\n          "+t._s(t.fixD(t.precision.plus(e.col,e.claimBalance),8))+"\n          "+t._s(e.collateral_symbol)+"\n        ")])]),t._v(" "),l("section",{staticClass:"claim_item_action_web WEB"},[l("button",{on:{click:function(l){return t.toClaim(e)}}},[t._v(t._s(t.$t("Table.GetBack")))])]),t._v(" "),l("section",{staticClass:"claim_item_insure_h5 H5"},[l("span",{class:"Call"==e.type?"call_text":"put_text"},[t._v("\n          "+t._s(e.TypeCoin)+"\n          "),l("i",{class:"Call"==e.type?"call_icon":"put_icon"})])]),t._v(" "),l("section",{staticClass:"claim_item_type_h5 H5"},[l("p",[l("span",[t._v(t._s(t.$t("Table.DenAssets")))]),t._v(" "),"call"==e.type?l("span",[t._v("\n            "+t._s(t.fixD(t.precision.plus(e.col,e.claimBalance),8))+"\n            "+t._s(e.collateral_symbol)+"\n          ")]):l("span",[t._v("\n            "+t._s(t.fixD(e.und,8))+"\n            "+t._s(e.underlying_symbol)+"\n          ")])]),t._v(" "),l("p",[l("span",[t._v(t._s(t.$t("Table.BaseAssets")))]),t._v(" "),"call"==e.type?l("span",[t._v("\n            "+t._s(t.fixD(e.und,8))+"\n            "+t._s(e.underlying_symbol)+"\n          ")]):l("span",[t._v("\n            "+t._s(t.fixD(t.precision.plus(e.col,e.claimBalance),8))+"\n            "+t._s(e.collateral_symbol)+"\n          ")])])]),t._v(" "),l("section",{staticClass:"claim_item_action_h5 H5"},[l("button",{on:{click:function(l){return t.toClaim(e)}}},[t._v(t._s(t.$t("Table.GetBack")))])])])})),0):t._e(),t._v(" "),t.isLoading||t.PolicyList&&t.PolicyList.length?t._e():l("NoData"),t._v(" "),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next","pager-count":5,"hide-on-single-page":t.PolicyList.length<t.PageSize,total:t.PolicyList.length},on:{"current-change":t.changePage}})],1),t._v(" "),l("WaitingConfirmationDialog",{attrs:{DialogVisible:t.WaitingVisible,DialogClose:t.waitingClose}},[l("div",{staticClass:"waiting_content"},[l("p",[t._v("\n        "+t._s(t.WaitingText)+"\n      ")])])]),t._v(" "),l("SuccessConfirmationDialog",{attrs:{DialogVisible:t.SuccessVisible,DialogClose:t.successClose,SuccessHash:t.SuccessHash}})],1)}),[],!1,null,"04ba4097",null).exports}},B=(l(1718),Object(P.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main_container"},[e("MyClaim")],1)}),[],!1,null,"64862d70",null));e.default=B.exports},2063:function(t,e,l){"use strict";l.r(e);var n=l(1809).default,c=l(18),component=Object(c.a)(n,undefined,undefined,!1,null,null,null);e.default=component.exports}}]);